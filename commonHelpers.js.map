{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["//Реализация открытия/закрытия мобильного меню\n(() => {\n  const refs = {\n    openMenuBtn: document.querySelector('[data-modal-open-mobile]'),\n    closeMenuBtn: document.querySelector('[data-modal-close-mobile]'),\n    menu: document.querySelector('[data-modal-mobile]'),\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleModal);\n  refs.closeMenuBtn.addEventListener('click', toggleModal);\n\n  function toggleModal() {\n    refs.menu.classList.toggle('is-open');\n  }\n})();\n\n//Реализация активнных ссылок десктопного меню\ndocument.addEventListener('DOMContentLoaded', function () {\n  var navLinks = document.querySelectorAll('.header-nav-link');\n\n  navLinks.forEach(function (link) {\n    link.addEventListener('click', function (event) {\n      navLinks.forEach(function (link) {\n        link.classList.remove('active');\n      });\n\n      link.classList.add('active');\n    });\n  });\n});\n\n//Реализация активнных ссылок мобильного и планшетного меню\ndocument.addEventListener('DOMContentLoaded', function () {\n  var navLinks = document.querySelectorAll('.header-mobile-link');\n\n  navLinks.forEach(function (link) {\n    link.addEventListener('click', function (event) {\n      navLinks.forEach(function (link) {\n        link.classList.remove('active');\n      });\n\n      link.classList.add('active');\n    });\n  });\n});\n\n//Реализация API конвертера валют\n\nfunction updatePrices(event) {\n  const apiKey = 'a0b862c967e5a8ed671014e5';\n  const selectElement = event.target;\n  const fromCurrency = 'EUR';\n  const toCurrency = selectElement.value;\n\n  const priceContainer =\n    selectElement.closest('.select-box-price') || selectElement.closest('.sale-span-box');\n\n  const apiUrl = `https://v6.exchangerate-api.com/v6/${apiKey}/pair/${fromCurrency}/${toCurrency}`;\n\n  fetch(apiUrl)\n    .then(response => response.json())\n    .then(data => {\n      const rate = data.conversion_rate;\n\n      const priceElements = priceContainer.querySelectorAll('[data-original-price]');\n      priceElements.forEach(priceElement => {\n        const originalPrice = parseFloat(priceElement.getAttribute('data-original-price'));\n        const convertedPrice = Math.round(originalPrice * rate);\n        priceElement.innerText = `${currencySymbol(toCurrency)}${convertedPrice}`;\n      });\n    })\n    .catch(error => console.error('Ошибка при получении курса валют:', error));\n}\n\nfunction currencySymbol(currency) {\n  switch (currency) {\n    case 'USD':\n      return '$';\n    case 'EUR':\n      return '€';\n    case 'UAH':\n      return '₴';\n    default:\n      return '';\n  }\n}\n\ndocument.querySelectorAll('.select-currency').forEach(selectElement => {\n  selectElement.addEventListener('change', updatePrices);\n});\n\nwindow.onload = function () {\n  document.querySelectorAll('.select-currency').forEach(selectElement => {\n    selectElement.dispatchEvent(new Event('change'));\n  });\n};\n\n// Реализация расширения текста\ndocument.querySelectorAll('.expand-text-btn').forEach(button => {\n  button.addEventListener('click', function () {\n    var parent = this.parentNode;\n    parent.classList.toggle('text-expanded');\n  });\n});\n\ndocument.addEventListener('DOMContentLoaded', event => {\n  document.querySelectorAll('.catalog-model').forEach(function (model) {\n    if (model.hasAttribute('data-fulltext')) {\n      model.addEventListener('click', function () {\n        if (!this.classList.contains('full-text')) {\n          this.innerText = this.dataset.fulltext;\n        } else {\n          let trimmedText = this.dataset.fulltext;\n          let ellipsisIndex = trimmedText.indexOf('...');\n          if (ellipsisIndex !== -1) {\n            trimmedText = trimmedText.substring(0, ellipsisIndex + 3);\n          } else {\n            trimmedText = trimmedText.substring() + '...';\n          }\n          this.innerText = trimmedText;\n        }\n        this.classList.toggle('full-text');\n      });\n    }\n  });\n});\n\n//Реализация preloader\nwindow.onload = function () {\n  var preloader = document.getElementById('preloader');\n  preloader.classList.add('fadeOut');\n\n  setTimeout(function () {\n    preloader.style.display = 'none';\n  }, 800);\n};\n\n//Реализация scroll-up\n\nlet calcScrollValue = () => {\n  let scrollProgress = document.getElementById('progress');\n  let pos = document.documentElement.scrollTop;\n\n  let calcHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n  let scrollValue = Math.round((pos * 100) / calcHeight);\n\n  if (pos > 100) {\n    scrollProgress.style.display = 'grid';\n  } else {\n    scrollProgress.style.display = 'none';\n  }\n  scrollProgress.addEventListener('click', () => {\n    document.documentElement.scrollTop = 0;\n  });\n  scrollProgress.style.background = `conic-gradient(#3350e9 ${scrollValue}%, #404040 ${scrollValue}%)`;\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  calcScrollValue();\n  window.onscroll = calcScrollValue;\n});\n"],"names":["refs","toggleModal","navLinks","link","event","updatePrices","apiKey","selectElement","fromCurrency","toCurrency","priceContainer","apiUrl","response","data","rate","priceElement","originalPrice","convertedPrice","currencySymbol","error","currency","button","parent","model","trimmedText","ellipsisIndex","preloader","calcScrollValue","scrollProgress","pos","calcHeight","scrollValue"],"mappings":"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"}